<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  

  
  <title>Cyylog</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta property="og:type" content="website">
<meta property="og:title" content="Cyylog">
<meta property="og:url" content="https://github.com/cyylog/page/29/index.html">
<meta property="og:site_name" content="Cyylog">
<meta property="og:locale" content="en_US">
<meta property="article:author" content="Cyylog">
<meta name="twitter:card" content="summary">
  
    <link rel="alternate" href="/atom.xml" title="Cyylog" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  
<link rel="stylesheet" href="/css/style.css">

<meta name="generator" content="Hexo 4.2.0"></head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">Cyylog</a>
      </h1>
      
        <h2 id="subtitle-wrap">
          <a href="/" id="subtitle">有些人是山川是河流，唯独不是可停泊的港口</a>
        </h2>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="https://github.com/cyylog"></form>
      </div>
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main">
  
    <article id="post-搭建Gitlab" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2019/10/05/%E6%90%AD%E5%BB%BAGitlab/" class="article-date">
  <time datetime="2019-10-04T17:55:39.000Z" itemprop="datePublished">2019-10-05</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/Linux/">Linux</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2019/10/05/%E6%90%AD%E5%BB%BAGitlab/">搭建Gitlab</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <a id="more"></a>

<p>Gitlab Server 部署</p>
<h3 id="1、环境准备"><a href="#1、环境准备" class="headerlink" title="1、环境准备"></a>1、环境准备</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">1.系统版本：CentOS7.4</span><br><span class="line">2.Gitlab版本：gitlab-ee 11.0.1</span><br><span class="line">3.初始化系统环境</span><br><span class="line">4.关闭防火墙</span><br><span class="line">[root@localhost ~]#  systemctl stop iptables firewalld</span><br><span class="line">[root@localhost ~]#  systemctl disable iptables firewalld</span><br><span class="line">5.开启邮件服务</span><br><span class="line">[root@vm1 ~]# systemctl start postfix</span><br><span class="line">[root@vm1 ~]# systemctl enable postfix</span><br><span class="line">6.关闭SELinux</span><br><span class="line">[root@localhost ~]#  sed -ri &#39;&#x2F;SELINUX&#x3D;&#x2F;cSELINUX&#x3D;disabled&#39; &#x2F;etc&#x2F;selinux&#x2F;config</span><br><span class="line">[root@localhost ~]#  setenforce 0           # 临时关闭SELinux</span><br><span class="line">[root@localhost ~]#  reboot</span><br></pre></td></tr></table></figure>

<h3 id="2、部署Gitlab"><a href="#2、部署Gitlab" class="headerlink" title="2、部署Gitlab"></a>2、部署Gitlab</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br></pre></td><td class="code"><pre><span class="line">1.安装Gitlab社区版&#x2F;企业版</span><br><span class="line">2.安装gitlab依赖包</span><br><span class="line">[root@localhost ~]# yum install -y curl openssh-server openssh-clients postfix cronie policycoreutils-python</span><br><span class="line"># gitlab-ce 10.x.x以后的版本需要依赖policycoreutils-python</span><br><span class="line"></span><br><span class="line">3.开启postfix，并设置开机自启</span><br><span class="line">[root@localhost ~]# systemctl start postfix;systemctl enable postfix</span><br><span class="line"></span><br><span class="line">4.选择添加yum源安装gitlab(根据需求配置源)</span><br><span class="line">（1）添加阿里源</span><br><span class="line"># vim &#x2F;etc&#x2F;yum.repos.d&#x2F;gitlab-ce.repo</span><br><span class="line">[gitlab-ce]</span><br><span class="line">name&#x3D;gitlab-ce</span><br><span class="line">baseurl&#x3D;http:&#x2F;&#x2F;mirrors.tuna.tsinghua.edu.cn&#x2F;gitlab-ce&#x2F;yum&#x2F;el7</span><br><span class="line">Repo_gpgcheck&#x3D;0</span><br><span class="line">Enabled&#x3D;1</span><br><span class="line">Gpgkey&#x3D;https:&#x2F;&#x2F;packages.gitlab.com&#x2F;gpg.key</span><br><span class="line"></span><br><span class="line">（2） 添加清华源</span><br><span class="line"># vim gitlab-ce.repo</span><br><span class="line">[gitlab-ce]</span><br><span class="line">name&#x3D;Gitlab CE Repository</span><br><span class="line">baseurl&#x3D;https:&#x2F;&#x2F;mirrors.tuna.tsinghua.edu.cn&#x2F;gitlab-ce&#x2F;yum&#x2F;el$releasever&#x2F;</span><br><span class="line">gpgcheck&#x3D;0</span><br><span class="line">enabled&#x3D;1</span><br><span class="line"></span><br><span class="line"># vim gitlab-ee.repo</span><br><span class="line">[gitlab-ee]</span><br><span class="line">name&#x3D;Gitlab EE Repository</span><br><span class="line">baseurl&#x3D;https:&#x2F;&#x2F;mirrors.tuna.tsinghua.edu.cn&#x2F;gitlab-ee&#x2F;yum&#x2F;el$releasever&#x2F;</span><br><span class="line">gpgcheck&#x3D;0</span><br><span class="line">enabled&#x3D;1</span><br><span class="line"></span><br><span class="line"># vim runner_gitlab-ci-multi-runner.repo</span><br><span class="line">[runner_gitlab-ci-multi-runner]</span><br><span class="line">name&#x3D;runner_gitlab-ci-multi-runner</span><br><span class="line">baseurl&#x3D;https:&#x2F;&#x2F;packages.gitlab.com&#x2F;runner&#x2F;gitlab-ci-multi-runner&#x2F;el&#x2F;7&#x2F;$basearch</span><br><span class="line">repo_gpgcheck&#x3D;1</span><br><span class="line">gpgcheck&#x3D;0</span><br><span class="line">enabled&#x3D;1</span><br><span class="line">gpgkey&#x3D;https:&#x2F;&#x2F;packages.gitlab.com&#x2F;runner&#x2F;gitlab-ci-multi-runner&#x2F;gpgkey</span><br><span class="line">sslverify&#x3D;1</span><br><span class="line">sslcacert&#x3D;&#x2F;etc&#x2F;pki&#x2F;tls&#x2F;certs&#x2F;ca-bundle.crt</span><br><span class="line">metadata_expire&#x3D;300</span><br><span class="line"></span><br><span class="line">[runner_gitlab-ci-multi-runner-source]</span><br><span class="line">name&#x3D;runner_gitlab-ci-multi-runner-source</span><br><span class="line">baseurl&#x3D;https:&#x2F;&#x2F;packages.gitlab.com&#x2F;runner&#x2F;gitlab-ci-multi-runner&#x2F;el&#x2F;7&#x2F;SRPMS</span><br><span class="line">repo_gpgcheck&#x3D;1</span><br><span class="line">gpgcheck&#x3D;0</span><br><span class="line">enabled&#x3D;1</span><br><span class="line">gpgkey&#x3D;https:&#x2F;&#x2F;packages.gitlab.com&#x2F;runner&#x2F;gitlab-ci-multi-runner&#x2F;gpgkey</span><br><span class="line">sslverify&#x3D;1</span><br><span class="line">sslcacert&#x3D;&#x2F;etc&#x2F;pki&#x2F;tls&#x2F;certs&#x2F;ca-bundle.crt</span><br><span class="line">metadata_expire&#x3D;300</span><br><span class="line"></span><br><span class="line">(3) 添加官方源</span><br><span class="line">curl https:&#x2F;&#x2F;packages.gitlab.com&#x2F;install&#x2F;repositories&#x2F;gitlab&#x2F;gitlab-ee&#x2F;script.rpm.sh | sudo bash</span><br><span class="line"></span><br><span class="line">5.安装包下载</span><br><span class="line">https:&#x2F;&#x2F;mirrors.tuna.tsinghua.edu.cn&#x2F;gitlab-ce&#x2F;yum&#x2F;el7&#x2F;</span><br><span class="line">https:&#x2F;&#x2F;mirrors.tuna.tsinghua.edu.cn&#x2F;gitlab-ee&#x2F;yum&#x2F;el7&#x2F;</span><br><span class="line"></span><br><span class="line">6.根据需要选择ce&#x2F;ee</span><br><span class="line">[root@localhost ~]# yum -y install gitlab-ce                    # 自动安装最新版</span><br><span class="line">[root@localhost ~]# yum -y install gitlab-ce-x.x.x              # 安装指定版本Gitlab</span><br><span class="line"></span><br><span class="line">[root@localhost ~]# yum -y install gitlab-ce </span><br><span class="line">warning: gitlab-ce-10.7.2-ce.0.el7.x86_64.rpm: Header V4 RSA&#x2F;SHA1 Signature, key ID f27eab47: NOKEY</span><br><span class="line">Preparing...                          ################################# [100%]</span><br><span class="line">Updating &#x2F; installing...</span><br><span class="line">   1:gitlab-ce-10.7.2-ce.0.el7        ################################# [100%]</span><br><span class="line">It looks like GitLab has not been configured yet; skipping the upgrade script.</span><br><span class="line"></span><br><span class="line">       *.                  *.</span><br><span class="line">      ***                 ***</span><br><span class="line">     *****               *****</span><br><span class="line">    .******             *******</span><br><span class="line">    ********            ********</span><br><span class="line">   ,,,,,,,,,***********,,,,,,,,,</span><br><span class="line">  ,,,,,,,,,,,*********,,,,,,,,,,,</span><br><span class="line">  .,,,,,,,,,,,*******,,,,,,,,,,,,</span><br><span class="line">      ,,,,,,,,,*****,,,,,,,,,.</span><br><span class="line">         ,,,,,,,****,,,,,,</span><br><span class="line">            .,,,***,,,,</span><br><span class="line">                ,*,.</span><br><span class="line">  </span><br><span class="line"></span><br><span class="line"></span><br><span class="line">     _______ __  __          __</span><br><span class="line">    &#x2F; ____(_) &#x2F;_&#x2F; &#x2F;   ____ _&#x2F; &#x2F;_</span><br><span class="line">   &#x2F; &#x2F; __&#x2F; &#x2F; __&#x2F; &#x2F;   &#x2F; __ &#96;&#x2F; __ \</span><br><span class="line">  &#x2F; &#x2F;_&#x2F; &#x2F; &#x2F; &#x2F;_&#x2F; &#x2F;___&#x2F; &#x2F;_&#x2F; &#x2F; &#x2F;_&#x2F; &#x2F;</span><br><span class="line">  \____&#x2F;_&#x2F;\__&#x2F;_____&#x2F;\__,_&#x2F;_.___&#x2F;</span><br><span class="line">  </span><br><span class="line"></span><br><span class="line">Thank you for installing GitLab!</span><br><span class="line">GitLab was unable to detect a valid hostname for your instance.</span><br><span class="line">Please configure a URL for your GitLab instance by setting &#96;external_url&#96;</span><br><span class="line">configuration in &#x2F;etc&#x2F;gitlab&#x2F;gitlab.rb file.</span><br><span class="line">Then, you can start your GitLab instance by running the following command:</span><br><span class="line">  sudo gitlab-ctl reconfigure</span><br><span class="line"></span><br><span class="line">For a comprehensive list of configuration options please see the Omnibus GitLab readme</span><br><span class="line">https:&#x2F;&#x2F;gitlab.com&#x2F;gitlab-org&#x2F;omnibus-gitlab&#x2F;blob&#x2F;master&#x2F;README.md</span><br></pre></td></tr></table></figure>

<p>###3、配置 Gitlab</p>
<h4 id="1、查看Gitlab版本"><a href="#1、查看Gitlab版本" class="headerlink" title="1、查看Gitlab版本"></a>1、查看Gitlab版本</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]# head -1 &#x2F;opt&#x2F;gitlab&#x2F;version-manifest.txt</span><br><span class="line">gitlab-ce 10.1.1</span><br></pre></td></tr></table></figure>

<h4 id="2、Gitlab-配置文登录链接"><a href="#2、Gitlab-配置文登录链接" class="headerlink" title="2、Gitlab 配置文登录链接"></a>2、Gitlab 配置文登录链接</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">#设置登录链接</span><br><span class="line">[root@localhost ~]# vim &#x2F;etc&#x2F;gitlab&#x2F;gitlab.rb</span><br><span class="line">***</span><br><span class="line">## GitLab URL</span><br><span class="line">##! URL on which GitLab will be reachable.</span><br><span class="line">##! For more details on configuring external_url see:</span><br><span class="line">##! https:&#x2F;&#x2F;docs.gitlab.com&#x2F;omnibus&#x2F;settings&#x2F;configuration.html#configuring-the-external-url-for-gitlab</span><br><span class="line"># 没有域名，可以设置为本机IP地址</span><br><span class="line">external_url &#39;http:&#x2F;&#x2F;172.17.0.61&#39;</span><br><span class="line">***</span><br><span class="line">[root@localhost ~]# grep &quot;^external_url&quot; &#x2F;etc&#x2F;gitlab&#x2F;gitlab.rb</span><br><span class="line">external_url &#39;http:&#x2F;&#x2F;172.17.0.61&#39;     #绑定监听的域名或IP</span><br></pre></td></tr></table></figure>

<h4 id="3、初始化-Gitlab-第一次使用配置时间较长"><a href="#3、初始化-Gitlab-第一次使用配置时间较长" class="headerlink" title="3、初始化 Gitlab (第一次使用配置时间较长)"></a>3、初始化 Gitlab (第一次使用配置时间较长)</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"> [root@localhost ~]# gitlab-ctl reconfigure   </span><br><span class="line">.....</span><br></pre></td></tr></table></figure>

<h4 id="4、启动-Gitlab-服务"><a href="#4、启动-Gitlab-服务" class="headerlink" title="4、启动 Gitlab 服务"></a>4、启动 Gitlab 服务</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">[root@vm1 ~]# gitlab-ctl start</span><br><span class="line">ok: run: gitaly: (pid 22896) 2922s</span><br><span class="line">ok: run: gitlab-monitor: (pid 22914) 2921s</span><br><span class="line">ok: run: gitlab-workhorse: (pid 22882) 2922s</span><br><span class="line">ok: run: logrotate: (pid 22517) 2987s</span><br><span class="line">ok: run: nginx: (pid 22500) 2993s</span><br><span class="line">ok: run: node-exporter: (pid 22584) 2974s</span><br><span class="line">ok: run: postgres-exporter: (pid 22946) 2919s</span><br><span class="line">ok: run: postgresql: (pid 22250) 3047s</span><br><span class="line">ok: run: prometheus: (pid 22931) 2920s</span><br><span class="line">ok: run: redis: (pid 22190) 3053s</span><br><span class="line">ok: run: redis-exporter: (pid 22732) 2962s</span><br><span class="line">ok: run: sidekiq: (pid 22472) 3005s</span><br><span class="line">ok: run: unicorn: (pid 22433) 3011s</span><br><span class="line">[root@vm1 ~]# </span><br><span class="line">[root@vm1 ~]# lsof -i:80</span><br><span class="line">COMMAND   PID       USER   FD   TYPE DEVICE SIZE&#x2F;OFF NODE NAME</span><br><span class="line">nginx   22500       root    7u  IPv4  50923      0t0  TCP *:http (LISTEN)</span><br><span class="line">nginx   22501 gitlab-www    7u  IPv4  50923      0t0  TCP *:http (LISTEN)</span><br><span class="line">[root@vm1 ~]#</span><br></pre></td></tr></table></figure>

<h4 id="5、Gitlab-设置-HTTPS-方式"><a href="#5、Gitlab-设置-HTTPS-方式" class="headerlink" title="5、Gitlab 设置 HTTPS 方式"></a>5、Gitlab 设置 HTTPS 方式</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">如果想要以上的 https 方式正常生效使用，则需要把 letsencrypt 自动生成证书的配置打开，这样在执行重</span><br><span class="line">新让配置生效命令 (gitlab-ctl reconfigure) 的时候会自动给域名生成免费的证书并自动在 gitlab 自带的</span><br><span class="line"> nginx 中加上相关的跳转配置，都是全自动的，非常方便。</span><br><span class="line">letsencrypt[&#39;enable&#39;] &#x3D; true </span><br><span class="line">letsencrypt[&#39;contact_emails&#39;] &#x3D; [&#39;caryyu@qq.com&#39;]     # 这应该是一组要添加为联系人的电子邮件地址</span><br></pre></td></tr></table></figure>

<h4 id="6、Gitlab-添加smtp邮件功能"><a href="#6、Gitlab-添加smtp邮件功能" class="headerlink" title="6、Gitlab 添加smtp邮件功能"></a>6、Gitlab 添加smtp邮件功能</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br></pre></td><td class="code"><pre><span class="line">[root@vm1 ~]# vim &#x2F;etc&#x2F;gitlab&#x2F;gitlab.rb</span><br><span class="line">postfix 并非必须的；根据具体情况配置，以 SMTP 的为例配置邮件服务器来实现通知；参考配置如下： </span><br><span class="line">### Email Settings  </span><br><span class="line">gitlab_rails[&#39;gitlab_email_enabled&#39;] &#x3D; true  </span><br><span class="line">gitlab_rails[&#39;gitlab_email_from&#39;] &#x3D; &#39;system.notice@qq.com&#39;  </span><br><span class="line">gitlab_rails[&#39;gitlab_email_display_name&#39;] &#x3D; &#39;gitlab.notice&#39;  </span><br><span class="line">gitlab_rails[&#39;gitlab_email_reply_to&#39;] &#x3D; &#39;system.notice@qq.com&#39;  </span><br><span class="line">gitlab_rails[&#39;gitlab_email_subject_suffix&#39;] &#x3D; &#39;gitlab&#39;  </span><br><span class="line">### GitLab email server settings </span><br><span class="line">###! Docs: https:&#x2F;&#x2F;docs.gitlab.com&#x2F;omnibus&#x2F;settings&#x2F;smtp.html </span><br><span class="line">###! **Use smtp instead of sendmail&#x2F;postfix.**   </span><br><span class="line">gitlab_rails[&#39;smtp_enable&#39;] &#x3D; true  </span><br><span class="line">gitlab_rails[&#39;smtp_address&#39;] &#x3D; &quot;smtp.qq.com&quot;  </span><br><span class="line">gitlab_rails[&#39;smtp_port&#39;] &#x3D; 465  </span><br><span class="line">gitlab_rails[&#39;smtp_user_name&#39;] &#x3D; &quot;system.notice@qq.com&quot;  </span><br><span class="line">gitlab_rails[&#39;smtp_password&#39;] &#x3D; &quot;xxxxx&quot;  </span><br><span class="line">gitlab_rails[&#39;smtp_domain&#39;] &#x3D; &quot;qq.com&quot;  </span><br><span class="line">gitlab_rails[&#39;smtp_authentication&#39;] &#x3D; &quot;login&quot;  </span><br><span class="line">gitlab_rails[&#39;smtp_enable_starttls_auto&#39;] &#x3D; true  </span><br><span class="line">gitlab_rails[&#39;smtp_tls&#39;] &#x3D; true</span><br><span class="line"></span><br><span class="line">[root@vm1 ~]# grep -P &quot;^[^#].*smtp_|user_email|gitlab_email&quot; &#x2F;etc&#x2F;gitlab&#x2F;gitlab.rb</span><br><span class="line">gitlab_rails[&#39;gitlab_email_enabled&#39;] &#x3D; true</span><br><span class="line">gitlab_rails[&#39;gitlab_email_from&#39;] &#x3D; &#39;username@domain.cn&#39;</span><br><span class="line">gitlab_rails[&#39;gitlab_email_display_name&#39;] &#x3D; &#39;Admin&#39;</span><br><span class="line">gitlab_rails[&#39;gitlab_email_reply_to&#39;] &#x3D; &#39;usernamei@domain.cn&#39;</span><br><span class="line">gitlab_rails[&#39;gitlab_email_subject_suffix&#39;] &#x3D; &#39;[gitlab]&#39;</span><br><span class="line">gitlab_rails[&#39;smtp_enable&#39;] &#x3D; true</span><br><span class="line">gitlab_rails[&#39;smtp_address&#39;] &#x3D; &quot;smtp.exmail.qq.com&quot;</span><br><span class="line">gitlab_rails[&#39;smtp_port&#39;] &#x3D; 25 </span><br><span class="line">gitlab_rails[&#39;smtp_user_name&#39;] &#x3D; &quot;username@domain.cn&quot;</span><br><span class="line">gitlab_rails[&#39;smtp_password&#39;] &#x3D; &quot;password&quot;</span><br><span class="line">gitlab_rails[&#39;smtp_domain&#39;] &#x3D; &quot;domain.cn&quot;</span><br><span class="line">gitlab_rails[&#39;smtp_authentication&#39;] &#x3D; &quot;login&quot;</span><br><span class="line">gitlab_rails[&#39;smtp_enable_starttls_auto&#39;] &#x3D; true</span><br><span class="line">gitlab_rails[&#39;smtp_tls&#39;] &#x3D; false</span><br><span class="line">user[&#39;git_user_email&#39;] &#x3D; &quot;username@domain.cn&quot;</span><br><span class="line"></span><br><span class="line">[root@vm1 ~]# gitlab-ctl reconfigure  #修改配置后需要初始化配置</span><br><span class="line">......</span><br><span class="line"></span><br><span class="line">[root@vm1 ~]# gitlab-ctl stop</span><br><span class="line">ok: down: gitaly: 0s, normally up</span><br><span class="line">ok: down: gitlab-monitor: 1s, normally up</span><br><span class="line">ok: down: gitlab-workhorse: 0s, normally up</span><br><span class="line">ok: down: logrotate: 1s, normally up</span><br><span class="line">ok: down: nginx: 0s, normally up</span><br><span class="line">ok: down: node-exporter: 1s, normally up</span><br><span class="line">ok: down: postgres-exporter: 0s, normally up</span><br><span class="line">ok: down: postgresql: 0s, normally up</span><br><span class="line">ok: down: prometheus: 0s, normally up</span><br><span class="line">ok: down: redis: 0s, normally up</span><br><span class="line">ok: down: redis-exporter: 1s, normally up</span><br><span class="line">ok: down: sidekiq: 0s, normally up</span><br><span class="line">ok: down: unicorn: 1s, normally up</span><br><span class="line"></span><br><span class="line">[root@vm1 ~]# gitlab-ctl start</span><br><span class="line">ok: run: gitaly: (pid 37603) 0s</span><br><span class="line">ok: run: gitlab-monitor: (pid 37613) 0s</span><br><span class="line">ok: run: gitlab-workhorse: (pid 37625) 0s</span><br><span class="line">ok: run: logrotate: (pid 37631) 0s</span><br><span class="line">ok: run: nginx: (pid 37639) 1s</span><br><span class="line">ok: run: node-exporter: (pid 37644) 0s</span><br><span class="line">ok: run: postgres-exporter: (pid 37648) 1s</span><br><span class="line">ok: run: postgresql: (pid 37652) 0s</span><br><span class="line">ok: run: prometheus: (pid 37660) 1s</span><br><span class="line">ok: run: redis: (pid 37668) 0s</span><br><span class="line">ok: run: redis-exporter: (pid 37746) 0s</span><br><span class="line">ok: run: sidekiq: (pid 37750) 1s</span><br><span class="line">ok: run: unicorn: (pid 37757) 0s</span><br></pre></td></tr></table></figure>

<h4 id="7、Gitlab-发送邮件测试"><a href="#7、Gitlab-发送邮件测试" class="headerlink" title="7、Gitlab 发送邮件测试"></a>7、Gitlab 发送邮件测试</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">[root@vm1 ~]# gitlab-rails console </span><br><span class="line">Loading production environment (Rails 4.2.10)</span><br><span class="line">irb(main):001:0&gt;  Notify.test_email(&#39;user@destination.com&#39;, &#39;Message Subject&#39;, &#39;Message Body&#39;).deliver_now</span><br><span class="line"></span><br><span class="line">Notify#test_email: processed outbound mail in 2219.5ms</span><br><span class="line"></span><br><span class="line">Sent mail to user@destination.com (2469.5ms)</span><br><span class="line">Date: Fri, 04 May 2018 15:50:10 +0800</span><br><span class="line">From: Admin &lt;username@domain.cn&gt;</span><br><span class="line">Reply-To: Admin &lt;username@domain.cn&gt;</span><br><span class="line">To: user@destination.com</span><br><span class="line">Message-ID: &lt;5aec10b24cfaa_93933fee282db10c162d@vm1.mail&gt;</span><br><span class="line">Subject: Message Subject</span><br><span class="line">Mime-Version: 1.0</span><br><span class="line">Content-Type: text&#x2F;html;</span><br><span class="line"> charset&#x3D;UTF-8</span><br><span class="line">Content-Transfer-Encoding: 7bit</span><br><span class="line">Auto-Submitted: auto-generated</span><br><span class="line">X-Auto-Response-Suppress: All</span><br><span class="line"></span><br><span class="line">&lt;!DOCTYPE html PUBLIC &quot;-&#x2F;&#x2F;W3C&#x2F;&#x2F;DTD HTML 4.0 Transitional&#x2F;&#x2F;EN&quot; &quot;http:&#x2F;&#x2F;www.w3.org&#x2F;TR&#x2F;REC-html40&#x2F;loose.dtd&quot;&gt;</span><br><span class="line">&lt;html&gt;&lt;body&gt;&lt;p&gt;Message Body&lt;&#x2F;p&gt;&lt;&#x2F;body&gt;&lt;&#x2F;html&gt;</span><br><span class="line"></span><br><span class="line">&#x3D;&gt; #&lt;Mail::Message:70291731344240, Multipart: false, Headers: &lt;Date: Fri, 04 May 2018 15:50:10 +0800&gt;, &lt;From: Admin &lt;username@domain.cn&gt;&gt;, &lt;Reply-To: Admin &lt;username@domain.cn&gt;&gt;, &lt;To: user@destination.com&gt;, &lt;Message-ID: &lt;5aec10b24cfaa_93933fee282db10c162d@vm1.mail&gt;&gt;, &lt;Subject: Message Subject&gt;, &lt;Mime-Version: 1.0&gt;, &lt;Content-Type: text&#x2F;html; charset&#x3D;UTF-8&gt;, &lt;Content-Transfer-Encoding: 7bit&gt;, &lt;Auto-Submitted: auto-generated&gt;, &lt;X-Auto-Response-Suppress: All&gt;&gt;</span><br><span class="line">irb(main):002:0&gt;quit</span><br></pre></td></tr></table></figure>

<p>###3、<strong>gitlab的使用</strong> <strong>在浏览器中输入 <a href="http://192.168.60.119/" target="_blank" rel="noopener">http://192.168.60.119/</a> ，然后 change password: ，并使用root用户登录 即可 (后续动作根据提示操作)</strong></p>
<h4 id="1、gitlab-命令行修改密码"><a href="#1、gitlab-命令行修改密码" class="headerlink" title="1、gitlab 命令行修改密码"></a>1、gitlab 命令行修改密码</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">gitlab-rails console production</span><br><span class="line">irb(main):001:0&gt; user &#x3D; User.where(id: 1).first     # id为1的是超级管理员</span><br><span class="line">irb(main):002:0&gt;user.password &#x3D; &#39;yourpassword&#39;      # 密码必须至少8个字符</span><br><span class="line">irb(main):003:0&gt;user.save!                          # 如没有问题 返回true</span><br><span class="line">exit                                                # 退出</span><br></pre></td></tr></table></figure>

<h4 id="2、gitlab服务管理"><a href="#2、gitlab服务管理" class="headerlink" title="2、gitlab服务管理"></a>2、gitlab服务管理</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">gitlab-ctl start                        # 启动所有 gitlab 组件；</span><br><span class="line">gitlab-ctl stop                         # 停止所有 gitlab 组件；</span><br><span class="line">gitlab-ctl restart                      # 重启所有 gitlab 组件；</span><br><span class="line">gitlab-ctl status                       # 查看服务状态；</span><br><span class="line">gitlab-ctl reconfigure                  # 启动服务；</span><br><span class="line">vim &#x2F;etc&#x2F;gitlab&#x2F;gitlab.rb               # 修改默认的配置文件；</span><br><span class="line">gitlab-ctl tail                         # 查看日志；</span><br></pre></td></tr></table></figure>

<p>3、登陆 Gitlab</p>
<p><img src="http://p3.pstatp.com/large/pgc-image/bab871f315204370a5a0fb7608617551" alt="Gitlab Server 部署"></p>
<p><strong>如果需要手工修改nginx的port ，可以在gitlab.rb中设置 nginx[‘listen_port’] = 8000 ，然后再次 gitlab-ctl reconfigure即可</strong></p>
<p><strong>登录 gitlab 如下所示(首次登陆设置 root 密码)：</strong></p>
<p><img src="http://p1.pstatp.com/large/pgc-image/8fbf9685623b4ca3a3db0db73eae8896" alt="Gitlab Server 部署"></p>
<p><strong>创建项目组 group ，组名为plat-sp ,如下所示:</strong></p>
<p><img src="http://p1.pstatp.com/large/pgc-image/30b33c344c914b10b7efdc44cae76214" alt="Gitlab Server 部署"></p>
<p><img src="http://p1.pstatp.com/large/pgc-image/cbd2fd9e30454e2c9514192f0706cb31" alt="Gitlab Server 部署"></p>
<p><strong>去掉用户的自动注册功能（安全）：</strong> admin are -&gt; settings -&gt; Sign-up Restrictions 去掉钩钩，然后拉到最下面保存，重新登录</p>
<p><img src="http://p3.pstatp.com/large/pgc-image/6cefb48804534f60b67e16168a7717a0" alt="Gitlab Server 部署"></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://github.com/cyylog/2019/10/05/%E6%90%AD%E5%BB%BAGitlab/" data-id="ckco9xsck0036bwuv9f0f7s5n" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Gitlab/" rel="tag">Gitlab</a></li></ul>

    </footer>
  </div>
  
</article>


  


  <nav id="page-nav">
    
    <a class="extend prev" rel="prev" href="/page/28/">&amp;laquo; Prev</a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/27/">27</a><a class="page-number" href="/page/28/">28</a><span class="page-number current">29</span><a class="page-number" href="/page/30/">30</a><a class="page-number" href="/page/31/">31</a><span class="space">&hellip;</span><a class="page-number" href="/page/46/">46</a><a class="extend next" rel="next" href="/page/30/">Next &amp;raquo;</a>
  </nav>

</section>
        
          <aside id="sidebar">
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Categories</h3>
    <div class="widget">
      <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/DevOps/">DevOps</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Interview/">Interview</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Linux/">Linux</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/SQL/">SQL</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E5%AE%B9%E5%99%A8/">容器</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E7%9B%91%E6%8E%A7/">监控</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tags</h3>
    <div class="widget">
      <ul class="tag-list" itemprop="keywords"><li class="tag-list-item"><a class="tag-list-link" href="/tags/Docker/" rel="tag">Docker</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Gitlab/" rel="tag">Gitlab</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Go/" rel="tag">Go</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Jenkins/" rel="tag">Jenkins</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Kubernetes/" rel="tag">Kubernetes</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Linux/" rel="tag">Linux</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/MySQL/" rel="tag">MySQL</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Network/" rel="tag">Network</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Nginx/" rel="tag">Nginx</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Oracle/" rel="tag">Oracle</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Prometheus/" rel="tag">Prometheus</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Python/" rel="tag">Python</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/RabbitMQ/" rel="tag">RabbitMQ</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Redis/" rel="tag">Redis</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/System/" rel="tag">System</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Tomcat/" rel="tag">Tomcat</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Tools/" rel="tag">Tools</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/iptables/" rel="tag">iptables</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/kafka/" rel="tag">kafka</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/zabbix/" rel="tag">zabbix</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tag Cloud</h3>
    <div class="widget tagcloud">
      <a href="/tags/Docker/" style="font-size: 20px;">Docker</a> <a href="/tags/Gitlab/" style="font-size: 10px;">Gitlab</a> <a href="/tags/Go/" style="font-size: 10px;">Go</a> <a href="/tags/Jenkins/" style="font-size: 12.5px;">Jenkins</a> <a href="/tags/Kubernetes/" style="font-size: 17.5px;">Kubernetes</a> <a href="/tags/Linux/" style="font-size: 20px;">Linux</a> <a href="/tags/MySQL/" style="font-size: 15px;">MySQL</a> <a href="/tags/Network/" style="font-size: 10px;">Network</a> <a href="/tags/Nginx/" style="font-size: 15px;">Nginx</a> <a href="/tags/Oracle/" style="font-size: 12.5px;">Oracle</a> <a href="/tags/Prometheus/" style="font-size: 10px;">Prometheus</a> <a href="/tags/Python/" style="font-size: 10px;">Python</a> <a href="/tags/RabbitMQ/" style="font-size: 10px;">RabbitMQ</a> <a href="/tags/Redis/" style="font-size: 10px;">Redis</a> <a href="/tags/System/" style="font-size: 10px;">System</a> <a href="/tags/Tomcat/" style="font-size: 20px;">Tomcat</a> <a href="/tags/Tools/" style="font-size: 12.5px;">Tools</a> <a href="/tags/iptables/" style="font-size: 10px;">iptables</a> <a href="/tags/kafka/" style="font-size: 12.5px;">kafka</a> <a href="/tags/zabbix/" style="font-size: 17.5px;">zabbix</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/9999/11/">November 9999</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/9999/10/">October 9999</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/9999/09/">September 9999</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/08/">August 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/07/">July 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/06/">June 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/05/">May 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/04/">April 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/03/">March 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/01/">January 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/12/">December 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/11/">November 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/10/">October 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/09/">September 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/08/">August 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/07/">July 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/05/">May 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/04/">April 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/03/">March 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/02/">February 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/12/">December 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/09/">September 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/06/">June 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/04/">April 2018</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recent Posts</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/9999/11/01/Interview_MySQL_001/">Interview MySQL_001</a>
          </li>
        
          <li>
            <a href="/9999/10/01/Interview_Network_001/">Interview Network_001</a>
          </li>
        
          <li>
            <a href="/9999/09/01/Interview_System_001/">Interview System_001</a>
          </li>
        
          <li>
            <a href="/2020/08/05/Interview_Go_001/">Interview Go_001</a>
          </li>
        
          <li>
            <a href="/2020/07/16/Mysql%E6%B8%B8%E6%A0%87/">Mysql 游标</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2020 Cyylog<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    

<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


  
<link rel="stylesheet" href="/fancybox/jquery.fancybox.css">

  
<script src="/fancybox/jquery.fancybox.pack.js"></script>




<script src="/js/script.js"></script>




  </div>
</body>
</html>